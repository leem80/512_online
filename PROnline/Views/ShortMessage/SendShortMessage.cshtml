@model PROnline.Models.ShortMessages.ShortMessage
           
@{
    ViewBag.Title = "SendShortMessage";
}

@section head{
<script src="@Url.Content("~/Scripts/MicrosoftAjax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/MicrosoftMvcAjax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>
}

<button id="openBtdn" type="button" onclick="test('22')">发送短信</button>

<div id="shortmessage">
<div>
@using (Ajax.BeginForm("SaveShortMessage", "ShortMessage", new AjaxOptions { UpdateTargetId = "myPnl" }))
{
    <div id="myPnl" style="width: 200px; height: 30px; border: 1px dotted silver;"/>
   
    <input type="hidden" name="studentId" id="studentId"/>

    <div class="editor-label">
        @Html.LabelFor(model => model.ShortMessageTemplateID, "短信内容")
    </div>
    <div class="editor-field">
        @Html.DropDownList("ShortMessageTemplateID", String.Empty)
        @Html.ValidationMessageFor(model => model.ShortMessageTemplateID)
    </div>

    <input type="submit" value="发送" />
}
</div>
</div>

<script type="text/javascript">
    $(function () {
        $("#shortmessage").dialog({ autoOpen: false, width: 300, height: 300, resizable: false });
        
    })

    function test(studentId) {
        document.getElementById("studentId").value = studentId;
        $("#shortmessage").dialog("open");     
    }
</script>
